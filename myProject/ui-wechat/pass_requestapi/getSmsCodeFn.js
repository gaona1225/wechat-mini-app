"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _pass_utilsApiAjax=require("../pass_utils/apiAjax"),_pass_utilsToastFn=require("../pass_utils/toastFn"),getSmsSucc=function(e,a){var t=e.data,s=a.data.notRegist?a.data.notRegist:"",o=t.data.vcodestr?t.data.vcodestr:"",n=t.data.vcodesign?t.data.vcodesign:"";a.setData({vcodestr:o,vcodesign:n,errno:t.errInfo.no?t.errInfo.no:""}),"50021"==t.errInfo.no||"50020"==t.errInfo.no?wx.navigateTo({url:"/pages/pass_checkcode/checkcode?notRegist="+s+"&vcodesign="+n+"&vcodestr="+o+"&telnum="+a.data.telnum+"&vcodesign="+a.data.vcodesign}):0!=t.errInfo.no||a.reget?0!=t.errInfo.no&&_pass_utilsToastFn.toastFn(a,t.errInfo.msg):wx.redirectTo({url:"/pages/pass_smscheck/smscheck?telnum="+a.data.telnum+"&notRegist="+s+"&vcodestr="+o+"&vcodesign="+n})},getSmsCodeFn=function(e){var a=e.data.telnum.replace(/[ ]/g,""),t=e.data.vcodestr,s=e.data.vcodesign?e.data.vcodesign:"";e.vcode&&"1"==e.vcode&&(a=e.data.telnum.replace(/[ ]/g,""));var o="wp/api/login/sms",n={username:a,clientfrom:"wap",is_voice_sms:"0",wechat:1,vcodestr:t?t:"",vcodesign:s?s:"",dialogVerifyCode:e.data.inputValue?e.data.inputValue:""};_pass_utilsApiAjax.apiAjax(o,n,"POST",getSmsSucc,e)};exports.getSmsCodeFn=getSmsCodeFn;