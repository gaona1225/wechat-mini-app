"use strict";var _pass_requestapiRegUser=require("../../pass_requestapi/regUser"),_pass_utilsClearInputFn=require("../../pass_utils/clearInputFn"),_pass_utilsToastFn=require("../../pass_utils/toastFn"),_pass_utilsRegValidate=require("../../pass_utils/regValidate");Page({data:{inputType:"password",eyeStateInit:!1,ignoreBtn:"none",user_name:"",password:""},onLoad:function(t){this.setData({telnum:t.telnum,smsCode:t.smsCode,notRegist:t.notRegist,ignoreBtn:t.showIgnoreBtn?"block":"none",errNo:t.errNo?t.errNo:""})},userNameInput:function(t){var e=t.detail.value,s=this.data.password,a={user_name:e};return e.length>0&&(a.clearIcon="block"),0==e.length&&(a.clearIcon="none",a.btnColor=""),e.length>0&&s.length>0&&this.setData({btnColor:"#fff"}),e.length>14?e.substring(0,14):void this.setData(a)},passwordInput:function(t){var e=t.detail.value,s=this.data.user_name,a={};return e.length>0&&(s&&(a={btnColor:"#fff"}),a.eyeIcon="block",a.showType=!1,a.password=e,this.setData(a)),0==e.length&&this.setData({eyeIcon:"none",btnColor:"",showType:this.eyeStateInit}),e.length>14?e.substring(0,14):void 0},eyeShowEvent:function(){var t=!this.data.eyeStateInit;this.setData({openEye:t,inputType:t?"text":"password",eyeStateInit:t})},clearInput:function(){_pass_utilsClearInputFn.clearInputFn(this,"user_name")},regUserBtn:function(){var t=this.data.user_name,e=this.data.password;if(t.length>0&&e.length>0){if(!_pass_utilsRegValidate.regValidateFunc(t,"username"))return void _pass_utilsToastFn.toastFn(this,"用户名最长14个字符,支持中英文、数字或下划线");if(!_pass_utilsRegValidate.regValidateFunc(e,"password"))return void _pass_utilsToastFn.toastFn(this,"密码为6-14位英文、数字和下划线");_pass_requestapiRegUser.regUser(this)}},ignoreSetinfo:function(){var t=void 0,e=getCurrentPages();try{t=wx.getStorageSync("pageStackLength"),t&&wx.navigateBack({delta:e.length-t+1})}catch(s){console.log(s)}}});